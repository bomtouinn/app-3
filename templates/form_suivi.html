<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de Suivi</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Préremplir la date du jour
            const dateInput = document.getElementById('date_embauche');
            const aujourdhui = new Date();
            const year = aujourdhui.getFullYear();
            const month = String(aujourdhui.getMonth() + 1).padStart(2, '0');
            const day = String(aujourdhui.getDate()).padStart(2, '0');
            const dateStr = `${year}-${month}-${day}`;
            dateInput.value = dateStr;
        });
    </script>
</head>
<body>

    <h2>Formulaire de Suivi des Étudiants en Entreprise</h2>

    <form action="#" method="post">
        
        <h3>Informations de Placement</h3>
        
        <label for="entreprise">Entreprise :</label>
        <select id="entreprise" name="entreprise" required>
            <option value="">Sélectionnez une entreprise</option>
            {% for nom, infos in entreprises.items() %}
            <option value="{{ nom }}">{{ nom }}</option>
            {% endfor %}
        </select><br><br>
        
        <label for="etudiant">Étudiant :</label>
        <select id="etudiant" name="etudiant" required>
            <option value="">Sélectionnez un étudiant</option>
            {% for nom, infos in etudiants.items() %}
            <option value="{{ nom }}">{{ nom }} - {{ infos.prenom }}</option>
            {% endfor %}
        </select><br><br>
        
        <label for="type_contrat">Type de contrat :</label>
        <select id="type_contrat" name="type_contrat" required>
            <option value="">Sélectionnez</option>
            <option value="stage">Stage</option>
            <option value="alternance">Alternance</option>
        </select>
        <br><br>

        <label for="date_embauche">Date d'embauche :</label>
        <input type="date" id="date_embauche" name="date_embauche" required>
        <br><br>

        <label for="detail_missions">Détail des missions :</label>
        <select id="detail_missions" name="detail_missions" required>
            <option value="">Sélectionnez un type de mission</option>
            <option value="web design">Web Design</option>
            <option value="chargé de communication">Chargé de communication</option>
            <option value="developpeur web">Développeur Web</option>
            <option value="graphiste">Graphiste</option>
            <option value="community management">Community Management</option>
        </select>
        <br><br>

        <button type="submit">Enregistrer le suivi</button>
    </form>
<br>
    <a href="/">Retour à l'accueil</a>
</body>
</html>
